{% extends "layout.html.twig" %}

{% block header %}
    {% include 'headerReport.html.twig' %}
{% endblock %}

{% block content %}
    {{ parent() }}
    
    <h3>Out of Stock and Low Stock Report</h3>
    <table border="1">
        <thead>
        <tr>
            <td> CATEGORY NAME</td>
            <td> PRODUCT ID</td>
            <td> PRODUCT NAME</td>
            <td> QUANTITY</td>

        </tr>
        </thead>
        <tbody>

        <h3> No Stock </h3>
        {% for product in products %}
            {% if product.stock == 0 %}
                <tr>
                    <td>{{ product.getCatid().getName() }}</td>
                    <td>{{ product.getId() }}</td>
                    <td>{{ product.getName() }}</td>
                    <td>{{ product.getStock() }}</td>
                </tr>
            {% endif %}
        {% endfor %}
        </tbody>
    </table>

    <h3> Low Stock </h3>


    <table border="1">
        <thead>
        <tr>
            <td> CATEGORY NAME</td>
            <td> PRODUCT ID</td>
            <td> PRODUCT NAME</td>
            <td> QUANTITY</td>

        </tr>
        </thead>
        <tbody>
        {% for product in products %}
            {% if product.stock > 0 and product.stock < 3 %}

                <tr>
                    <td>{{ product.getCatid().getName() }}</td>
                    <td>{{ product.getId() }}</td>
                    <td>{{ product.getName() }}</td>
                    <td>{{ product.getStock() }}</td>                
                </tr>
            {% endif %}

        {% else %}
            <strong>LA TABLE product EST VIDE</strong>
        {% endfor %}
        </tbody>
    </table>



    <div id="chart_div"></div>

{% endblock %}

{% block footer %}
    {% include 'footer.html.twig' %}
{% endblock %}